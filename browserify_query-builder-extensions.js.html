<!doctype html>
<html>

<head>
  <meta name="generator" content="JSDoc 3.3.2">
  <meta charset="utf-8">
  <title>Source: browserify/query-builder-extensions.js</title>
  <link rel="stylesheet" href="https://brick.a.ssl.fastly.net/Karla:400,400i,700,700i" type="text/css">
  <link rel="stylesheet" href="https://brick.a.ssl.fastly.net/Noto+Serif:400,400i,700,700i" type="text/css">
  <link rel="stylesheet" href="https://brick.a.ssl.fastly.net/Inconsolata:500" type="text/css">
  <link href="css/baseline.css" rel="stylesheet">
</head>

<body onload="prettyPrint()">
  <nav id="jsdoc-navbar" role="navigation" class="jsdoc-navbar">
    <div id="jsdoc-navbar-container">
      <div id="jsdoc-navbar-content">
        <a href="index.html" class="jsdoc-navbar-package-name">Home</a>
      </div>
    </div>
  </nav>
  <div id="jsdoc-body-container">
    <div id="jsdoc-content">
      <div id="jsdoc-content-container">
        <div id="jsdoc-banner" role="banner">
        </div>
        <div id="jsdoc-main" role="main">
          <header class="page-header">
            <h1>Source: browserify/query-builder-extensions.js</h1>
          </header>
          <article>
            <pre class="prettyprint linenums"><code>&#x27;use strict&#x27;;

function asArray() {
  var args;

  /* istanbul ignore else */
  if ( arguments.length === 1) {
    if (Array.isArray( arguments[0] )) {
      args = arguments[0];
    } else {
      args = [ arguments[0] ];
    }
  } else {
    args = [].slice.call(arguments);
  }

  return args;
}

/**
 * Builds a [&#x60;range-constraint-query&#x60;](http://docs.marklogic.com/guide/search-dev/structured-query#id_38268)
 * @memberof! MLQueryBuilder
 * @method ext.rangeConstraint
 *
 * @param {String} name - constraint name
 * @param {Array} values - the values the constraint should equal (logical OR)
 * @return {Object} [range-constraint-query](http://docs.marklogic.com/guide/search-dev/structured-query#id_38268)
 */
function rangeConstraint(name, values) {
  values = asArray.apply(null, [values]);
  return {
    &#x27;range-constraint-query&#x27;: {
      &#x27;constraint-name&#x27;: name,
      &#x27;value&#x27;: values
    }
  };
}

/**
 * Builds a [&#x60;collection-constraint-query&#x60;](http://docs.marklogic.com/guide/search-dev/structured-query#id_30776)
 * @memberof! MLQueryBuilder
 * @method ext.collectionConstraint
 *
 * @param {String} name - constraint name
 * @param {Array} values - the values the constraint should equal (logical OR)
 * @return {Object} [collection-constraint-query](http://docs.marklogic.com/guide/search-dev/structured-query#id_30776)
 */
function collectionConstraint(name, values) {
  values = asArray.apply(null, [values]);
  return {
    &#x27;collection-constraint-query&#x27;: {
      &#x27;constraint-name&#x27;: name,
      &#x27;uri&#x27;: values
    }
  };
}

/**
 * Builds a [&#x60;custom-constraint-query&#x60;](http://docs.marklogic.com/guide/search-dev/structured-query#id_28778)
 * @memberof! MLQueryBuilder
 * @method ext.customConstraint
 *
 * @param {String} name - constraint name
 * @param {Array} values - the values the constraint should equal (logical OR)
 * @return {Object} [custom-constraint-query](http://docs.marklogic.com/guide/search-dev/structured-query#id_28778)
 */
function customConstraint(name, values) {
  values = asArray.apply(null, [values]);
  return {
    &#x27;custom-constraint-query&#x27;: {
      &#x27;constraint-name&#x27;: name,
      &#x27;value&#x27;: values
    }
  };
}

/**
 * constraint query function factory
 * @memberof! MLQueryBuilder
 * @method ext.constraint
 *
 * @param {String} type - constraint type (&#x60;&#x27;collection&#x27; | &#x27;custom&#x27; | &#x27;*&#x27;&#x60;)
 * @return {Function} a constraint query builder function, one of:
 *   - {@link MLQueryBuilder.ext.rangeConstraint}
 *   - {@link MLQueryBuilder.ext.collectionConstraint}
 *   - {@link MLQueryBuilder.ext.customConstraint}
 */
function constraint(type) {
  switch(type) {
    case &#x27;custom&#x27;:
      return customConstraint;
    case &#x27;collection&#x27;:
      return collectionConstraint;
    default:
      return rangeConstraint;
  }
}

/**
 * Builds an [&#x60;operator-state&#x60; query component](http://docs.marklogic.com/guide/search-dev/structured-query#id_45570)
 * @memberof! MLQueryBuilder
 * @method ext.operator
 *
 * @param {String} name - operator name
 * @param {String} stateName - operator-state name
 * @return {Object} [operator-state component](http://docs.marklogic.com/guide/search-dev/structured-query#id_45570)
 */
function operator(name, stateName) {
  return {
    &#x27;operator-state&#x27;: {
      &#x27;operator-name&#x27;: name,
      &#x27;state-name&#x27;: stateName
    }
  };
}

module.exports = {
  util: {
    asArray: asArray
  },
  ext: {
    rangeConstraint: rangeConstraint,
    collectionConstraint: collectionConstraint,
    customConstraint: customConstraint,
    constraint: constraint,
    operator: operator
  }
};
</code></pre>
          </article>
        </div>
      </div>
      <nav id="jsdoc-toc-nav" role="navigation"></nav>
    </div>
  </div>
  <footer id="jsdoc-footer" class="jsdoc-footer">
    <div id="jsdoc-footer-container">
      <p>
        Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc</a> 3.3.2 on June 18, 2015.
      </p>
    </div>
  </footer>
  <script src="scripts/jquery.min.js"></script>
  <script src="scripts/jquery.cookie.js"></script>
  <script src="scripts/tree.jquery.js"></script>
  <script src="scripts/prettify.js"></script>
  <script src="scripts/jsdoc-toc.js"></script>
  <script src="scripts/linenumber.js"></script>
  <script src="scripts/scrollanchor.js"></script>
</body>

</html>